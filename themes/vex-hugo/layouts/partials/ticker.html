{{ $data := index .Site.Data .Site.Language.Lang }}

{{- if $data.homepage.ticker.enable }}
{{- with $data.homepage.ticker }}

<style>
    #ticker {
        overflow: hidden;
        height: 40px; /* Adjust height as needed */
        display: flex; /* Use flexbox */
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
        background-color: #f4f4f4;
    }
    .ticker-wrapper {
        width: 100%; /* Ensure ticker takes full width */
        overflow: hidden; /* Hide overflowing content */
    }
    .ticker-list {
        list-style-type: none;
        padding-left: 0;
        display: flex; /* Use flexbox for horizontal layout */
        margin: 0; /* Remove default margin */
        justify-content: center; /* Center horizontally */
        animation: ticker 15s infinite linear; /* Add missing colon */
    }
    .ticker-item {
        margin-right: 10px; /* Adjusted spacing between items */
        font-size: 150%;
        font-weight: bold;
        white-space: nowrap;
        text-align: center;
    }
    .ticker-item a {
        text-decoration: none;
        color: inherit;
    }

    .ticker-item a:hover {
        color: blue; /* Change color to blue on hover */
    }

    /* Responsive adjustments */
    @media only screen and (max-width: 768px) {
        #ticker {
            height: auto; /* Adjust height to fit content */
            padding: 10px; /* Add padding for better spacing */
        }
        .ticker-item {
            margin-right: 10px; /* Reduce spacing between items */
            font-size: 100%; /* Reset font size */
        }
    }

    /* Keyframes definition for ticker animation */
    @keyframes ticker {
    100% {
        transform: translateX(-100%);
    }
}
</style>




<div id="ticker" class="ticker-wrapper">
    <ul class="ticker-list">
        {{- $tickerLength := len .ticker_items -}}
        {{- range $index, $element := .ticker_items -}}
            <li class="ticker-item">
                <a href="{{ $element.link }}">{{ $element.item }}</a>
                {{ if lt $index ($tickerLength) }} <!-- Check if not the last item -->
                    <span style="color: navy;">|</span> <!-- Add separator -->
                {{ end }}
            </li>
        {{- end -}}
    </ul>
</div>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function(){
        var ticker = $('#ticker');
        var list = $('.ticker-list');
        var clone = list.clone(true);

        ticker.append(clone);

        function tick() {
            list.animate({left: '-=1'}, 20, function() {
                if ($(this).position().left < -$(this).width()) {
                    $(this).css('left', ticker.width());
                }
            });
        }

        var tickerInterval = setInterval(function(){ tick() }, 10);

        // Pause ticker on hover
        ticker.hover(
            function() {
                clearInterval(tickerInterval);
            },
            function() {
                tickerInterval = setInterval(function(){ tick() }, 10);
            }
        );
    });
</script>





{{ end }}
{{ end }}